<!doctype html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="bootstrap-4.5.0-dist/css/bootstrap.min.css">
    <title>Search For Trip</title>
</head>

<body>


    <div class="container w-75 mt-5">
        <h1 class="display-4">Find your Trip Package</h1>
        <div class="form-group">
            <label>Enter Your Location To See the Details</label>
            <input type="name" class="form-control" id="input">
        </div>
        <button type="submit" class="btn btn-primary" onclick="append_d()">Submit</button>
    </div>

    <div class="container mt-5">
        <div class="row" id="main_div">

        </div>


    </div>

    <script>
        function append_d() {
            event.preventDefault()
            var input = document.getElementById('input').value
            var data = JSON.parse(window.localStorage.getItem('details'));
            // console.log(Object.keys(data))
            for (var key in data) {
                if (input === key) {
                    var main_div = document.getElementById("main_div")
                    var div = document.createElement('div')
                    var h_div = document.createElement('div')
                    var b_div = document.createElement('div')

                    div.setAttribute('class', "card col-5 mx-auto")
                    div.style = "margin-top: 10px"
                    h_div.setAttribute('class', "card-header")
                    b_div.setAttribute('class', "card-body")

                    var h1 = document.createElement('h1')
                    h1.textContent = "Details of Trip for " + key
                    h_div.appendChild(h1)


                    var p = document.createElement('p')
                    // console.log(key, input, typeof input, typeof key)
                    // console.log(data[key][0]["Days"])
                    p.textContent = "Days : " + data[key][0]["Days"]

                    var p2 = document.createElement('p')
                    p2.textContent = "Total Price : " + data[key][0]["Total Price"]

                    var p3 = document.createElement('p')
                    p3.textContent = "Food : " + data[key][0]["Food"]

                    var p4 = document.createElement('p')
                    p4.textContent = "Hotel : " + data[key][0]["Hotel"]

                    var btn = document.createElement('a')
                    btn.setAttribute('href', '#')
                    btn.setAttribute('class', 'btn btn-primary')
                    btn.setAttribute('onclick', bill())
                    btn.textContent = "Book"

                    b_div.append(p, p2, p3, p4, btn)
                    div.append(h_div, b_div)
                    main_div.appendChild(div)
                }
            }
        }

        function bill() {
            event.preventDefault()
            window.location.href = "book.html"
        }
    </script>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="bootstrap-4.5.0-dist/js/bootstrap.min.js"></script>
</body>

</html>